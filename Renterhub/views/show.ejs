<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home page</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-md bg-body-tertiary border-bottom sticky-top"
    >
      <div class="container-fluid">
        <a class="navbar-brand" href="/renterhub"
          ><img src="/assets/newRenterHubLogo.png" id="logo" /><span
            id="name_of_site"
            >RenterHub</span
          ></a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a
              class="nav-link"
              aria-current="page"
              href="/renterhub"
              style="color: blue"
              >Home</a
            >
            <a class="nav-link" href="/renterhub/about" style="color: blue"
              >About Us</a
            >
            <a
              class="nav-link"
              href="/renterhub/newListing"
              style="color: deeppink"
              >rent your home</a
            >
            <a class="nav-link" href="/renterhub/services" style="color: blue"
              >our services</a
            >
          </div>
        </div>
        <span class="user_login"
          ><button
            onclick="document.getElementById('id02').style.display='block'"
            style="width: auto"
          >
            SignUp
          </button>
          |
          <button
            onclick="document.getElementById('id01').style.display='block'"
            style="width: auto"
          >
            Login
          </button>
          <i class="fa-solid fa-user"></i
        ></span>
      </div>
    </nav>

    <div id="id01" class="modal">
      <form
        class="modal-content animate"
        action="/renterhub/Login_verification"
        method="post"
      >
        <div class="imgcontainer">
          <span
            onclick="document.getElementById('id01').style.display='none'"
            class="close"
            title="Close Modal"
            >&times;</span
          >
          <img src="/assets/avatorforLogin.jpg" alt="Avatar" class="avatar" />
        </div>

        <div class="container">
          <label for="name"><b>Username</b></label>
          <input
            type="text"
            placeholder="Enter Username"
            name="name"
            required
          />

          <label for="password"><b>Password</b></label>
          <input
            type="password"
            placeholder="set Password"
            name="password"
            required
          />

          <button type="submit" class="login_btn">Login</button>
          <label>
            <input type="checkbox" checked="checked" name="remember" /> Remember
            me
          </label>
        </div>

        <div class="container" style="background-color: #f1f1f1">
          <button
            type="button"
            onclick="document.getElementById('id01').style.display='none'"
            class="cancelbtn"
          >
            Cancel
          </button>

          <span class="psw">Forgot <a href="#">password?</a></span>
        </div>
      </form>
    </div>
    <div id="id02" class="modal">
      <form
        class="modal-content animate"
        action="/renterhub/SignUp_verification"
        method="post"
      >
        <div class="imgcontainer">
          <span
            onclick="document.getElementById('id02').style.display='none'"
            class="close"
            title="Close Modal"
            >&times;</span
          >
          <img src="/assets/avatorforLogin.jpg" alt="Avatar" class="avatar" />
        </div>

        <div class="container">
          <label for="name"><b>Username</b></label>
          <input
            type="text"
            placeholder="Enter Username"
            name="name"
            required
          />

          <label for="email"><b>Email</b></label>
          <input
            type="email"
            placeholder="Enter email"
            name="email"
            required
            style="
              width: 100%;
              padding: 0.6rem;
              border: 1px solid purple;
              border-radius: 4px;
            "
          />

          <label for="password"><b>Password</b></label>
          <input
            type="password"
            placeholder="Enter Password"
            name="password"
            required
            style="
              width: 100%;
              padding: 0.6rem;
              border: 1px solid purple;
              border-radius: 4px;
            "
          />

          <button type="submit" class="login_btn">SignUp</button>
        </div>

        <div class="container" style="background-color: #f1f1f1">
          <button
            type="button"
            onclick="document.getElementById('id02').style.display='none'"
            class="cancelbtn"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
    <h3 style="margin-top: 42px; margin-left: 254px"><%=listing.title%></h3>
    <br />
    <br />

    <div
      style="
        width: 57rem;
        height: 30rem;
        border: none;
        border-radius: 6px;
        margin-left: 250px;
      "
    >
      <img
        src="<%=listing.img_url%>"
        alt="image"
        style="width: 100%; height: 100%; border: none; border-radius: 6px"
      />
    </div>
    <br /><br />
    <h5 style="margin-top: 42px; margin-left: 254px">
      <b><%=listing.location%>,<%=listing.country%></b>
    </h5>
    <br />
    <br />
    <h6 style="margin-left: 254px"><%=listing.description%></h6>

    <br /><br />
    <hr style="width: 70%; height: 1px; margin-left: 254px" />
    <br /><br />
    <img
      src="<%=listing.img_url%>"
      style="width: 50px; height: 50px; border-radius: 50%; margin-left: 254px"
    />
    <b>Hosted By <u><%=listing.name%></u></b> <br /><br />

    <hr style="width: 70%; height: 1px; margin-left: 254px" />
    <br /><br />
    <i class="fa-solid fa-door-open" style="margin-left: 254px"></i>

    self checkin Check yourself in with the lockbox
    <br /><br />
    <hr style="width: 70%; height: 1px; margin-left: 254px" />
    <br /><br />
    <h5 style="margin-top: 42px; margin-left: 254px">
      <b>What this place offers</b>
    </h5>
    <br /><br />
    <div>
      <%for(let amenti of listing.amenities){ %>
      <ul>
        <li style="margin-left: 254px"><%=amenti%></li>
      </ul>

      <%}%>
    </div>
    <br />
    <hr style="width: 70%; height: 1px; margin-left: 254px" />
    <h4 style="margin-top: 42px; margin-left: 254px">Things to know</h4>

    <div
      class="main"
      style="margin-left: 16rem; margin-top: 4rem; display: flex"
    >
      <div class="one" style="margin-right: 3rem">
        <p>
          <i class="fa-regular fa-clock"></i> Check-in after 12:00 pm<br />
          <i class="fa-regular fa-clock"></i> Checkout before 11:00 pm<br /><i
            class="fa-solid fa-door-open"
          ></i>
          Self check-in with lockbox<br /><i class="fa-solid fa-shield-cat"></i>
          Pets allowed
        </p>
      </div>
      <div class="two" style="margin-right: 3rem">
        <p>
          <i class="fa-regular fa-bell"></i> No smoke alarm<br />
          <i class="fa-regular fa-bell"></i> Carbon monoxide detector not
          required<br />
          <i class="fa-solid fa-shield-cat"></i>
          Pet(s) live on property
        </p>
      </div>
      <div class="three" style="margin-right: 3rem">
        <p>
          <b>Cancellation policy</b><br />
          Cancel before check-in on 19 Apr for a partial refund.<br />
          Review the Hostâ€™s full cancellation policy which applies even <br />if
          you cancel for illness or disruptions caused by COVID-19
        </p>
      </div>
    </div>

    <br /><br />
    <hr style="width: 70%; height: 3px; margin-left: 254px" />
    <br><br>

    <div
      style="
        width: 45rem;
        height: 27rem;
        border: 3px solid rgb(13, 1, 31);
        border-radius: 7px;
        margin-left: 300px;
        padding: 2rem;
      "
    >
      <h3 style="color: rgb(181, 29, 54)">Conferm and Pay</h3>
      <br />

      <b><h4>Your trip</h4></b><br />
      <b>Days you want to reside </b> <br />
      <input id="days" width="100%" type="number" placeholder="2days" /><br />
      <b>Guests </b> <br />
      <input type="number" width="100%" placeholder="3 guests" />
      <br />

      <br />
      <button
        id="feemodel"
        onclick="toOpen()"
        style="
          width: 70%;
          height: 3rem;
          border: none;
          border-radius: 6px;
          background-color: rgb(199, 25, 54);
          color: #f1f1f1;
        "
      >
        continue
      </button>
    </div>

    <div class="boxmodel">
      <input
        type="email"
        id="email"
        placeholder="enter email"
        style="width: 100%"
      />

      <button
        id="toEmail"
        onclick="sendOtp()"
        style="
          width: 70%;
          height: 3rem;
          border: none;
          border-radius: 6px;
          background-color: rgb(199, 25, 54);
          color: #f1f1f1;
        "
      >
        send otp
      </button>
      <input
        type="number"
        style="width: 100%"
        placeholder="enter otp"
        id="otp_value"
      />
      <button
        id="verify_btn"
        style="
          width: 70%;
          height: 3rem;
          border: none;
          border-radius: 6px;
          background-color: rgb(43, 130, 65);
          color: #f1f1f1;
        "
      >
        verify account
      </button>
    </div>

    <footer>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos saepe eum,
      ut, at, voluptate odit magni earum sed distinctio accusantium ab. Beatae
      doloribus veritatis cupiditate aspernatur delectus excepturi? Vero, quasi.
    </footer>
    <!-- <script src="/css/EmailOtp.js"></script> -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script>
            // Get the modal
            var modal1 = document.getElementById("id01");
            var modal2 = document.getElementById("id02");

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
              if (event.target == modal1) {
                modal1.style.display = "none";
              }
            };
            window.onclick = function (event) {
              if (event.target == modal2) {
                modal2.style.display = "none";
              }
            };

            let box = document.getElementsByClassName("boxmodel")[0];
            function toOpen() {
              //   let days=document.getElementById("totalDay");
              // days.innerHTML=document.getElementById("days").value;
              // let tprice = document.getElementById("totalPrice");
              // tprice.innerHTML *= document.getElementById("days").value;

              document.getElementsByClassName("boxmodel")[0].style.display = "block";
            }
            // function toClose() {
            //   document.getElementsByClassName("boxmodel")[0].style.display = "none";
            // }

            window.onclick = function (event) {
              if (event.target == box) {
                box.style.display = "none";
              }
            };

            function sendOtp() {
        const email = document.getElementById("email");
        // const verify = document.getElementById("verification");

        let gen_otp = Math.floor(Math.random() * 10000);
        let email_body = 'your otp is : '+gen_otp;
        Email.send({
          SecureToken: "ae75b0d6-2de1-4673-8683-325ae8e5ef48",
          To : email.value,
          From: "0506cs211007@gmail.com",
          Subject: "please verify akshatraj's accounts ",
          Body: email_body,
        }).then(

          message => {
          if (message === "OK") {
            // alert(
            //   "OTP has been send to your email " +
            //     email.value);
            // verify.style.display = "flex";
            const verify_btn = document.getElementById("verify_btn");
            const otp_value = document.getElementById("otp_value");

            verify_btn.addEventListener("click", () => {
               if (otp_value.value == gen_otp) {

                console.log("yes");
            //     alert("Email address varified succsesfully.... and your home was booked ");
             } else {
                 console.log("not verified");
               }
           })
          }
        });
      }
    
    </script>
  </body>
</html>
